/* =========================================================
 * File: styles/theme.css
 * 标题：全局主题（字体 & 颜色的唯一修改入口）
 * 用法：组件中通过 var(--color-*) / var(--font-*) 使用
 * 修改：仅在此文件修改变量，即可全站生效
 * =======================================================*/

/* —— 字体设置（中文优先，含英文字体回退） —— */
:root {
    --font-sans: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
                 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
                 "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
    --font-serif: "Merriweather", "Noto Serif SC", "Songti SC", "SimSun",
                  "Georgia", "Times New Roman", serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
                 "Liberation Mono", "Courier New", monospace;
  
    /* —— 主题色（修改此处可全站换色） —— */
    --color-bg: #F9F8F6;          /* 温暖纸张背景色（stone-50） */
    --color-fg: #292524;          /* 主文字色（stone-800，深灰而非纯黑） */
    --color-muted: #6b7280;       /* 次级文字（灰） */
    --color-brand: #2563eb;       /* 品牌主色（按钮/链接） */
    --color-chip: #f3f4f6;        /* 未选 chip 背景 */
    --color-chip-active: #dbeafe; /* 选中 chip 背景 */
  
    /* —— 布局尺寸（避免跳动） —— */
    --filters-h: 100px;           /* 筛选区固定高度，改这里 */
    --container-w: 1200px;        /* 主容器宽度上限 */
  }
  
  /* —— 全局基底 —— */
  html, body, #__nuxt {
    height: 100%;
    background: var(--color-bg);
    color: var(--color-fg);
    font-family: var(--font-sans);
  }
  
  /* —— 常用工具类（如轻量文本色） —— */
  .text-muted { color: var(--color-muted); }

  /* —— TopBar 容器布局（与主容器对齐） —— */
  .topbar-container {
    margin-left: auto;
    margin-right: auto;
    padding-left: 16px; /* 与主容器保持一致 */
    padding-right: 16px;
  }

  /* —— 主容器布局（与 TopBar 对齐） —— */
  .main-container {
    margin-left: auto;
    margin-right: auto;
    padding-left: 16px; /* 与 TopBar 的容器 padding 保持一致 */
    padding-right: 16px;
    padding-top: 0; /* 主标题与"按标签搜索"之间的间距 - 可在此处调整 */
    padding-bottom: 24px;
  }

  /* ============ Filter Section ============ */
.filters-section {
  margin-bottom: 24px;
}

.filters-subtitle {
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-fg);
  margin-bottom: 12px;
  font-family: var(--font-sans);
}

  /* ============ Filter Grid layout ============ */
/* 筛选区的栅格：最小高度而非固定高度，防止内容压到下面 */
.filters-grid { min-height: var(--filters-h); }

/* 等高网格行：每个格子（FilterGroup）等高，内部再滚动 */
.grid-equal {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 12px;
  grid-auto-rows: 1fr; /* 关键：让每个网格单元等高 */
}

/* 响应式列数（与你现在的 1/2/3 列一致） */
@media (min-width: 768px) {
  .grid-equal { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (min-width: 1024px) {
  .grid-equal { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* =====================================================
   Filter card base styles
   说明：
   - .filter-card        : 通用外框（边框/圆角/内边距）
   - .filter-card--a     : 浅灰背景 A
   - .filter-card--b     : 浅灰背景 B
   - .filter-stack       : 竖直堆叠容器（控制筛选卡之间的间距）
   修改配色、圆角、间距请来这里动，不要到处找 inline style。
   ===================================================== */

   .filter-stack {
    display: flex;
    flex-direction: column;
    gap: 12px; /* 卡片之间的竖向间距 */
  }
  
  /* 卡片公共框体 */
  .filter-card {
    background-color: #ffffff;    /* 白色背景，在温暖纸张上形成层次 */
    border: 1px solid #f5f5f4;    /* 浅灰边框（stone-100） */
    border-radius: 8px;           /* 圆角半径 */
    padding: 12px;                /* 内边距 */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* 轻微阴影（shadow-sm） */
  }
  
  /* 统一白色背景，不再使用交替背景色 */
  .filter-card--a {
    background-color: #ffffff; /* 统一白色背景 */
  }
  
  .filter-card--b {
    background-color: #ffffff; /* 统一白色背景 */
  }

  /* 筛选组标题区域 */
  .filter-group-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px; /* 减少与下方内容的间距 */
  }

  /* 筛选组标题样式（减少行高和边距） */
  .filter-group-title {
    font-size: 0.875rem; /* text-sm */
    font-weight: 500; /* font-medium */
    line-height: 1.2; /* 减少行高，默认通常为 1.5 或更大 */
    margin: 0; /* 移除 h3 默认的上下边距 */
    padding: 0; /* 移除默认内边距 */
  }

  /* 筛选区 chips 容器 */
  .filter-chips-container {
    flex: 1;
    min-height: 0;
    overflow: auto;
    display: flex;
    flex-wrap: wrap;
    gap: 12px; /* 与结果标签 chips 保持一致的间距 */
  }

/* =====================================================
   Filter Tabs styles (标签页设计)
   说明：
   - .filter-tabs-container      : 标签页容器（文件夹样式）
   - .filter-tabs-header          : 标签按钮行（水平排列）
   - .filter-tab-button           : 标签按钮
   - .filter-tab-button--active   : 激活状态的标签按钮
   - .filter-tab-content          : 标签页内容区域（固定高度）
   - .filter-tab-panel             : 单个标签页面板
   - .filter-tab-label             : 标签文本
   - .filter-tab-count             : 已选数量计数
   ===================================================== */

  /* 标签页容器（文件夹样式） */
  .filter-tabs-container {
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    background-color: transparent; /* 透明背景，消除白色背景条 */
    overflow: hidden;
    box-shadow: none; /* 移除阴影，与透明背景一致 */
  }

  /* 标签按钮行（水平排列，居左对齐） */
  .filter-tabs-header {
    display: flex;
    justify-content: flex-start; /* 居左对齐 */
    align-items: flex-end; /* 底部对齐，便于层叠效果 */
    border-bottom: none; /* 移除底部边框，由激活标签页和内容面板无缝连接 */
    background-color: transparent; /* 透明背景，消除白色背景条 */
    padding-left: 0;
    padding-right: 0;
    overflow-x: auto;
    /* 隐藏滚动条但保持滚动功能 */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
    position: relative;
    height: 40px; /* 固定高度，确保标签对齐（从48px减小到40px） */
  }

  .filter-tabs-header::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
  }

  /* 标签按钮（圆角梯形文件夹样式） */
  .filter-tab-button {
    position: relative;
    min-width: 100px; /* 最小宽度 */
    width: auto; /* 动态宽度，适应文本 */
    height: 36px;
    padding: 0 20px;
    border: none;
    background: transparent; /* 背景由 .tab-shape 提供 */
    color: var(--color-fg);
    font-size: 0.875rem; /* text-sm */
    font-weight: 500; /* 非激活状态：正常字重 */
    cursor: pointer;
    transition: filter 0.2s ease; /* 仅 hover 时的亮度变化 */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    white-space: nowrap;
    overflow: visible; /* 允许形状溢出 */
    margin-left: -6px; /* 负边距实现层叠效果（第一个按钮除外） */
  }

  /* 第一个按钮不需要负边距 */
  .filter-tab-button--first {
    margin-left: 0;
  }

  /* Layer 1: Tab Shape (Background) - 使用 perspective transform 创建圆角梯形 */
  .tab-shape {
    position: absolute;
    inset: 0;
    background-color: #ffffff; /* 白色背景 - 可在此处调整 */
    border: 2.5px solid #e5e7eb; /* 加粗边框，增强与背景的对比 - 可在此处调整（建议范围：2px - 3px） */
    border-bottom: none; /* 移除底部边框，避免与内容栏边框重叠显示，只显示内容栏的边框 */
    border-top-left-radius: 8px; /* 左上角圆角 */
    border-top-right-radius: 8px; /* 右上角圆角 */
    transform-origin: bottom center; /* 从底部中心旋转 */
    transform: perspective(100px) rotateX(8deg); /* 3D 旋转创建梯形效果 */
    z-index: 0; /* 在文本下方 */
    pointer-events: none; /* 不阻挡点击 */
  }

  /* Layer 2: Text Content - 确保文本在形状上方 */
  .tab-text {
    position: relative;
    z-index: 10; /* 确保文本在形状层上方 */
  }

  /* 统一配色方案：未选中状态统一为白色背景，添加主题色边框 */
  /* 1. Authors - 樱花粉 */
  .filter-tab-button--authors .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #FBCFE8; /* 樱花粉边框 */
  }

  /* 2. Books - 奶油橘 */
  .filter-tab-button--books .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #FED7AA; /* 奶油橘边框 */
  }

  /* 3. Characters - 芝士黄 */
  .filter-tab-button--characters .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #FDE047; /* 芝士黄边框 */
  }

  /* 4. Times - 薄荷绿 */
  .filter-tab-button--times .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #BBF7D0; /* 薄荷绿边框 */
  }

  /* 5. Themes - 天空蓝 */
  .filter-tab-button--themes .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #BAE6FD; /* 天空蓝边框 */
  }

  /* 6. Devices - 冰川青 */
  .filter-tab-button--devices .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #A5F3FC; /* 冰川青边框 */
  }

  /* 7. Search - 香芋紫 */
  .filter-tab-button--search .tab-shape {
    background-color: #ffffff; /* 白色背景 */
    border-color: #D8B4FE; /* 香芋紫边框 */
  }

  /* Z-index 现在通过内联样式动态计算，不再需要 CSS 规则 */

  /* Hover状态：增加亮度 */
  .filter-tab-button:hover:not(.filter-tab-button--active) .tab-shape {
    filter: brightness(1.1); /* 轻微增加亮度 */
  }

  /* 激活状态的标签按钮（主题色背景，黑色粗体文字） */
  .filter-tab-button--active {
    color: var(--color-fg); /* 黑色文字 */
    font-weight: 600; /* 粗体 */
    position: relative; /* 确保 z-index 生效 */
  }

  /* 激活状态：主题色背景，移除底部边框以与内容区无缝合并 */
  .filter-tab-button--active .tab-shape {
    border-bottom: none; /* 移除底部边框，与内容区无缝合并 */
    border-top: 3.5px solid transparent; /* 加粗顶部边框，增强对比 - 可在此处调整（建议范围：3px - 4px） */
    border-left: 3.5px solid transparent; /* 加粗左侧边框 */
    border-right: 3.5px solid transparent; /* 加粗右侧边框 */
  }

  /* 激活状态：根据表格设置边框颜色（用于非激活状态的边框） */
  .filter-tab-button--authors.filter-tab-button--active .tab-shape {
    border-color: #FBCFE8; /* 樱花粉边框 */
  }

  .filter-tab-button--books.filter-tab-button--active .tab-shape {
    border-color: #FED7AA; /* 奶油橘边框 */
  }

  .filter-tab-button--characters.filter-tab-button--active .tab-shape {
    border-color: #FDE047; /* 芝士黄边框 */
  }

  .filter-tab-button--times.filter-tab-button--active .tab-shape {
    border-color: #BBF7D0; /* 薄荷绿边框 */
  }

  .filter-tab-button--themes.filter-tab-button--active .tab-shape {
    border-color: #BAE6FD; /* 天空蓝边框 */
  }

  .filter-tab-button--devices.filter-tab-button--active .tab-shape {
    border-color: #A5F3FC; /* 冰川青边框 */
  }

  .filter-tab-button--search.filter-tab-button--active .tab-shape {
    border-color: #D8B4FE; /* 香芋紫边框 */
  }

  /* 标签文本 */
  .filter-tab-label {
    flex-shrink: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 120px; /* 增加最大宽度以适应动态宽度 */
  }

  /* 已选数量计数 */
  .filter-tab-count {
    font-size: 0.75rem; /* text-xs */
    color: var(--color-muted);
    font-weight: 400;
    flex-shrink: 0;
  }

  .filter-tab-button--active .filter-tab-count {
    color: var(--color-muted); /* 保持灰色，与未激活状态一致 */
  }

  /* 标签页内容区域（固定高度，白色背景与激活标签合并） */
  .filter-tab-content {
    height: var(--filters-h); /* 使用全局变量，默认420px */
    overflow: hidden;
    position: relative;
    background-color: #ffffff; /* 恢复白色背景 */
    z-index: 10; /* z-index 层级：激活标签(50) > 内容栏(10) > 未选中标签(0)，确保内容栏边框覆盖未选中标签的边框 */
    box-sizing: border-box; /* 确保边框宽度计算正确 */
    /* 正常定位，不使用负边距，边框粗细保持一致 */
    margin: 0;
  }

  /* 单个标签页面板 */
  .filter-tab-panel {
    height: 100%;
    padding: 16px;
    overflow-y: auto;
  }

/* =====================================================
   Result card styles
   说明：
   - .result-card        : 结果卡片基础样式（边框/圆角/内边距）
   - .result-card--even  : 偶数索引背景色（更亮）
   - .result-card--odd   : 奇数索引背景色（稍深）
   - .result-stack       : 结果列表容器（控制卡片间距）
   修改配色、圆角、间距请来这里，保持与筛选卡片风格一致。
   ===================================================== */

  .result-stack {
    display: flex;
    flex-direction: column;
    gap: 12px; /* 卡片之间的竖向间距 */
    transition: opacity 300ms ease-out, filter 300ms ease-out, transform 300ms ease-out;
    opacity: 1;
    filter: blur(0);
    transform: scale(1);
  }

  /* 刷新状态：降低透明度、轻微模糊、轻微缩小（"Breath & Blur"效果） */
  .result-stack--refreshing {
    opacity: 0.5;
    filter: blur(2px);
    transform: scale(0.99);
  }

  /* 结果卡片公共框体 */
  .result-card {
    background-color: #ffffff;    /* 白色背景，在温暖纸张上形成层次 */
    border: 1px solid #f5f5f4;    /* 浅灰边框（stone-100） */
    border-radius: 8px;           /* 圆角半径 */
    padding: 16px;                /* 内边距（比筛选卡片稍大，因为内容更多） */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* 轻微阴影（shadow-sm） */
    transition: box-shadow 0.2s ease; /* 添加悬停效果过渡 */
  }

  .result-card:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07); /* 悬停时稍深阴影 */
  }

  /* 统一白色背景，不再使用交替背景色 */
  .result-card--even {
    background-color: #ffffff; /* 白色背景 */
  }

  .result-card--odd {
    background-color: #ffffff; /* 统一白色背景 */
  }

  /* 句子文本容器 */
  .result-text-wrapper {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 14px;
  }

  .result-text {
    flex: 1;
    color: var(--color-fg);
    line-height: 1.6;
    min-width: 0; /* 允许文本收缩 */
    font-family: var(--font-serif); /* 引用文本使用衬线字体 */
  }

  /* 折叠状态：限制显示2行 */
  .result-text--collapsed {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* 展开状态：显示完整内容 */
  .result-text--expanded {
    display: block;
  }

  /* 展开/收起按钮 */
  .result-text-toggle {
    flex-shrink: 0;
    padding: 2px 8px;
    border: none;
    background-color: transparent;
    color: #3b82f6;
    font-size: 0.875rem;
    cursor: pointer;
    text-decoration: underline;
    transition: color 0.2s ease;
    white-space: nowrap;
    align-self: flex-start;
    margin-top: 2px; /* 轻微上移，与文本对齐 */
  }

  .result-text-toggle:hover {
    color: #2563eb;
  }

  .result-text-toggle:active {
    color: #1d4ed8;
  }

  /* 结果标签 chips 容器 */
  .result-chips-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px; /* 12px 间距，确保 chip 之间有明显的间隔 */
  }

  /* Chip 包装器，用于包含 chip 和操作按钮 */
  .result-chip-wrapper {
    position: relative;
    display: inline-block;
  }

  /* 结果标签 chips（现在可点击） */
  .result-chip {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.75rem; /* text-xs */
    line-height: 1.5;
    border: 1px solid #e5e7eb;
    color: var(--color-fg);
    white-space: nowrap;
    cursor: pointer;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    background-color: transparent;
    transform: scale(1.0); /* 缩小到 0.9 倍大小 */
    transform-origin: center; /* 从中心缩放 */
  }

  .result-chip:hover {
    opacity: 0.9;
  }

  /* 交替背景色：灰白区分 */
  .result-chip--even {
    background-color: #ffffff; /* 白色背景 */
  }

  .result-chip--odd {
    background-color: #f3f4f6; /* 浅灰背景（与 var(--color-chip) 一致） */
  }

          /* 英文书名斜体样式（结果卡片中的书名 chips） */
          .result-chip--book {
            font-style: italic;
          }

          /* 被选中的标签（匹配搜索条件）加粗样式 - 保留用于兼容 */
          .result-chip--matched {
            font-weight: 600;
          }

  /* 英文书名斜体样式（筛选区中的书名 chips） */
  .filter-chip--book {
    font-style: italic;
  }

  /* =====================================================
     Result Chips - 主题色（选中和 hover 状态）
     说明：搜索结果中的 chip 根据是否匹配显示不同状态
     - 匹配的 chip (isMatched=true)：显示选中状态颜色
     - 未匹配的 chip (isMatched=false)：显示 hover 状态颜色
     ===================================================== */

  /* 1. Authors (樱花粉) */
  .result-chip--authors.result-chip--active {
    background-color: #FBCFE8 !important; /* 樱花粉 selected */
    border-color: #ec4899 !important; /* 更深的樱花粉边框 */
    border-width: 1.5px;
  }

  .result-chip--authors.result-chip--hover {
    background-color: #FCE7F3 !important; /* 樱花粉 hover */
    border-color: #d1d5db !important; /* 浅灰色边框 */
  }

  /* 2. Books (奶油橘) */
  .result-chip--books.result-chip--active {
    background-color: #FED7AA !important; /* 奶油橘 selected */
    border-color: #fb923c !important; /* 更深的奶油橘边框 */
    border-width: 1.5px;
  }

  .result-chip--books.result-chip--hover {
    background-color: #FFEDD5 !important; /* 奶油橘 hover */
    border-color: #d1d5db !important; /* 浅灰色边框 */
  }

  /* 3. Characters (芝士黄) */
  .result-chip--characters.result-chip--active {
    background-color: #FDE047 !important; /* 芝士黄 selected */
    border-color: #eab308 !important; /* 更深的芝士黄边框 */
    border-width: 1.5px;
  }

  .result-chip--characters.result-chip--hover {
    background-color: #FEF9C3 !important; /* 芝士黄 hover */
    border-color: #d1d5db !important; /* 浅灰色边框 */
  }

  /* 4. Times (薄荷绿) */
  .result-chip--times.result-chip--active {
    background-color: #BBF7D0 !important; /* 薄荷绿 selected */
    border-color: #10b981 !important; /* 更深的薄荷绿边框 */
    border-width: 1.5px;
  }

  .result-chip--times.result-chip--hover {
    background-color: #DCFCE7 !important; /* 薄荷绿 hover */
    border-color: #d1d5db !important; /* 浅灰色边框 */
  }

  /* 5. Themes (天空蓝) */
  .result-chip--themes.result-chip--active {
    background-color: #BAE6FD !important; /* 天空蓝 selected */
    border-color: #0ea5e9 !important; /* 更深的天空蓝边框 */
    border-width: 1.5px;
  }

  .result-chip--themes.result-chip--hover {
    background-color: #E0F2FE !important; /* 天空蓝 hover */
    border-color: #d1d5db !important; /* 浅灰色边框 */
  }

  /* 6. Devices (冰川青) */
  .result-chip--devices.result-chip--active {
    background-color: #A5F3FC !important; /* 冰川青 selected */
    border-color: #06b6d4 !important; /* 更深的冰川青边框 */
    border-width: 1.5px;
  }

  .result-chip--devices.result-chip--hover {
    background-color: #CFFAFE !important; /* 冰川青 hover */
    border-color: #d1d5db !important; /* 浅灰色边框 */
  }

  /* 结果 chip 操作按钮 */
  .result-chip-action {
    position: absolute;
    left: 50%;
    bottom: calc(100% + 4px); /* 位于 chip 上方，间距 4px */
    transform: translateX(-50%); /* 水平居中 */
    z-index: 9999; /* 确保按钮在最上层，可以覆盖其他元素 */
    white-space: nowrap;
  }

  .result-chip-action-btn {
    padding: 4px 10px; /* 与 result-chip 相同的 padding */
    border-radius: 6px; /* 与 result-chip 相同的圆角 */
    font-size: 0.75rem; /* 与 result-chip 相同的字体大小 */
    line-height: 1.5; /* 与 result-chip 相同的行高 */
    border: 1px solid #e5e7eb;
    background-color: #ffffff;
    color: var(--color-fg);
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }

  .result-chip-action-btn:hover {
    background-color: #f9fafb;
    border-color: #d1d5db;
  }

  .result-chip-action-btn--add {
    color: #10b981; /* 绿色表示添加 */
    border-color: #10b981;
  }

  .result-chip-action-btn--add:hover {
    background-color: #d1fae5;
    border-color: #059669;
  }

  .result-chip-action-btn--remove {
    color: #ef4444; /* 红色表示删除 */
    border-color: #ef4444;
  }

  .result-chip-action-btn--remove:hover {
    background-color: #fee2e2;
    border-color: #dc2626;
  }

  /* 操作按钮图标 */
  .result-chip-action-icon {
    font-weight: 600;
    font-size: 1rem;
    line-height: 1;
  }

  .result-chip-action-btn--add .result-chip-action-icon {
    color: #10b981; /* 绿色加号 */
  }

  .result-chip-action-btn--remove .result-chip-action-icon {
    color: #ef4444; /* 红色叉叉 */
  }

  /* =====================================================
     Filter Chips - 主题色三种状态
     说明：每个标签组的 chip 跟随对应标签的主题色
     - 未选中：统一灰色背景 + 主题色边框
     - hover：主题色 hover 背景 + 主题色边框
     - 选中：主题色 selected 背景 + 主题色边框
     ===================================================== */

  /* 基础 chip 样式 */
  .filter-chip {
    border-radius: 6px; /* 统一圆角，与 selected-chip 和 result-chip 一致 */
    transition: background-color 0.2s ease, border-color 0.2s ease;
    cursor: pointer;
  }

  /* 1. Authors (樱花粉) */
  .filter-chip--authors {
    background-color: #F3F4F6; /* 未选中：统一灰色 */
    border-color: #d1d5db; /* 未选中时显示浅灰色边框，提示可点击 */
  }

  .filter-chip--authors:hover:not(.filter-chip--active) {
    background-color: #FCE7F3; /* 樱花粉 hover */
    border-color: #d1d5db; /* hover 时保持浅灰色边框 */
  }

  .filter-chip--authors.filter-chip--active {
    background-color: #FBCFE8; /* 樱花粉 selected */
    border-color: #ec4899; /* 选中时显示更深的樱花粉边框 */
  }

  /* 推荐状态：边框变色（与选中状态相同），背景保持白色 */
  .filter-chip--authors.filter-chip--recommended {
    background-color: #ffffff; /* 白色背景，与选中状态区分 */
    border-color: #ec4899; /* 使用与选中状态相同的边框颜色 */
  }

  /* 2. Books (奶油橘) */
  .filter-chip--books {
    background-color: #F3F4F6; /* 未选中：统一灰色 */
    border-color: #d1d5db; /* 未选中时显示浅灰色边框，提示可点击 */
  }

  .filter-chip--books:hover:not(.filter-chip--active) {
    background-color: #FFEDD5; /* 奶油橘 hover */
    border-color: #d1d5db; /* hover 时保持浅灰色边框 */
  }

  .filter-chip--books.filter-chip--active {
    background-color: #FED7AA; /* 奶油橘 selected */
    border-color: #fb923c; /* 选中时显示更深的奶油橘边框 */
  }

  .filter-chip--books.filter-chip--recommended {
    background-color: #ffffff; /* 白色背景 */
    border-color: #fb923c; /* 使用与选中状态相同的边框颜色 */
  }

  /* 3. Characters (芝士黄) */
  .filter-chip--characters {
    background-color: #F3F4F6; /* 未选中：统一灰色 */
    border-color: #d1d5db; /* 未选中时显示浅灰色边框，提示可点击 */
  }

  .filter-chip--characters:hover:not(.filter-chip--active) {
    background-color: #FEF9C3; /* 芝士黄 hover */
    border-color: #d1d5db; /* hover 时保持浅灰色边框 */
  }

  .filter-chip--characters.filter-chip--active {
    background-color: #FDE047; /* 芝士黄 selected */
    border-color: #eab308; /* 选中时显示更深的芝士黄边框 */
  }

  .filter-chip--characters.filter-chip--recommended {
    background-color: #ffffff; /* 白色背景 */
    border-color: #eab308; /* 使用与选中状态相同的边框颜色 */
  }

  /* 4. Times (薄荷绿) */
  .filter-chip--times {
    background-color: #F3F4F6; /* 未选中：统一灰色 */
    border-color: #d1d5db; /* 未选中时显示浅灰色边框，提示可点击 */
  }

  .filter-chip--times:hover:not(.filter-chip--active) {
    background-color: #DCFCE7; /* 薄荷绿 hover */
    border-color: #d1d5db; /* hover 时保持浅灰色边框 */
  }

  .filter-chip--times.filter-chip--active {
    background-color: #BBF7D0; /* 薄荷绿 selected */
    border-color: #10b981; /* 选中时显示更深的薄荷绿边框 */
  }

  .filter-chip--times.filter-chip--recommended {
    background-color: #ffffff; /* 白色背景 */
    border-color: #10b981; /* 使用与选中状态相同的边框颜色 */
  }

  /* 5. Themes (天空蓝) */
  .filter-chip--themes {
    background-color: #F3F4F6; /* 未选中：统一灰色 */
    border-color: #d1d5db; /* 未选中时显示浅灰色边框，提示可点击 */
  }

  .filter-chip--themes:hover:not(.filter-chip--active) {
    background-color: #E0F2FE; /* 天空蓝 hover */
    border-color: #d1d5db; /* hover 时保持浅灰色边框 */
  }

  .filter-chip--themes.filter-chip--active {
    background-color: #BAE6FD; /* 天空蓝 selected */
    border-color: #0ea5e9; /* 选中时显示更深的天空蓝边框 */
  }

  .filter-chip--themes.filter-chip--recommended {
    background-color: #ffffff; /* 白色背景 */
    border-color: #0ea5e9; /* 使用与选中状态相同的边框颜色 */
  }

  /* 6. Devices (冰川青) */
  .filter-chip--devices {
    background-color: #F3F4F6; /* 未选中：统一灰色 */
    border-color: #d1d5db; /* 未选中时显示浅灰色边框，提示可点击 */
  }

  .filter-chip--devices:hover:not(.filter-chip--active) {
    background-color: #CFFAFE; /* 冰川青 hover */
    border-color: #d1d5db; /* hover 时保持浅灰色边框 */
  }

  .filter-chip--devices.filter-chip--active {
    background-color: #A5F3FC; /* 冰川青 selected */
    border-color: #06b6d4; /* 选中时显示更深的冰川青边框 */
  }

  .filter-chip--devices.filter-chip--recommended {
    background-color: #ffffff; /* 白色背景 */
    border-color: #06b6d4; /* 使用与选中状态相同的边框颜色 */
  }

/* =====================================================
   Selected Bar styles
   说明：
   - .selected-bar-card          : 选中栏卡片（白底框）
   - .selected-bar-container      : 选中栏容器（内边距）
   - .selected-bar-header          : 选中栏标题行（标签文字 + 清空按钮）
   - .selected-chips-container     : 选中标签 chips 容器
   - .selected-chip                : 选中标签 chip（全白背景）
   - .selected-chip--book          : 英文书名斜体样式
   - .selected-empty               : 无选中项时的提示文字
   修改配色、间距、圆角请来这里。
   ===================================================== */

  .selected-bar-section {
    margin-bottom: 0; /* 由卡片本身提供间距 */
  }

  .selected-bar-card {
    background-color: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px; /* 与下方内容保持合适间距 */
    margin-top: 20px; /* 与上方内容保持合适间距 */
  }


  .selected-bar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px;
  }

  .selected-bar-title-section {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
    min-width: 0;
  }

  .selected-hint {
    font-size: 0.75rem; /* text-xs */
    color: var(--color-muted);
    font-style: italic;
  }

  .selected-bar-actions {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .selected-action-btn {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    border: 1px solid #e5e7eb;
    background-color: #ffffff;
    color: var(--color-fg);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    padding: 0;
    line-height: 1;
  }

  .selected-action-btn:hover {
    background-color: #f9fafb;
    border-color: #d1d5db;
  }

  .selected-action-btn:disabled,
  .selected-action-btn--disabled {
    opacity: 0.4;
    cursor: not-allowed;
    color: var(--color-muted);
  }

  .selected-clear-all-btn {
    padding: 6px 12px;
    border-radius: 6px;
    border: 1px solid #e5e7eb;
    font-size: 0.875rem;
    background-color: #ffffff;
    color: var(--color-fg);
    cursor: pointer;
    transition: background-color 0.2s ease, opacity 0.2s ease, color 0.2s ease;
  }

  .selected-clear-all-btn:hover:not(:disabled) {
    background-color: #f9fafb;
  }

  .selected-clear-all-btn:disabled,
  .selected-clear-all-btn--disabled {
    opacity: 0.4;
    cursor: not-allowed;
    color: var(--color-muted);
  }

  .selected-chips-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px; /* 与结果标签 chips 保持一致的间距 */
  }

  .selected-chip {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.75rem; /* text-xs */
    line-height: 1.5;
    background-color: #ffffff; /* 默认白色背景，会被主题色覆盖 */
    border: 1px solid #e5e7eb; /* 默认边框，会被主题色覆盖 */
    color: var(--color-fg);
    white-space: nowrap;
    cursor: pointer;
    transition: background-color 0.2s ease, border-color 0.2s ease;
  }

  .selected-chip:hover {
    background-color: #f9fafb;
    border-color: #d1d5db;
  }

  .selected-chip:active {
    background-color: #f3f4f6;
  }

  /* 英文书名斜体样式（选中栏中的书名 chips） */
  .selected-chip--book {
    font-style: italic;
  }

  /* Selected Chips - 主题色（选中状态，与 result-chip--active 完全一致） */
  /* 1. Authors (樱花粉) - 选中状态 */
  .selected-chip--authors {
    background-color: #FBCFE8; /* 樱花粉 selected */
    border-color: #ec4899; /* 更深的樱花粉边框 */
    border-width: 1.5px; /* 与 result-chip--active 一致 */
  }

  .selected-chip--authors:hover {
    background-color: #FBCFE8; /* 保持选中颜色 */
    border-color: #ec4899;
    border-width: 1.5px; /* 保持边框宽度 */
  }

  /* 2. Books (奶油橘) - 选中状态 */
  .selected-chip--books {
    background-color: #FED7AA; /* 奶油橘 selected */
    border-color: #fb923c; /* 更深的奶油橘边框 */
    border-width: 1.5px; /* 与 result-chip--active 一致 */
  }

  .selected-chip--books:hover {
    background-color: #FED7AA; /* 保持选中颜色 */
    border-color: #fb923c;
    border-width: 1.5px; /* 保持边框宽度 */
  }

  /* 3. Characters (芝士黄) - 选中状态 */
  .selected-chip--characters {
    background-color: #FDE047; /* 芝士黄 selected */
    border-color: #eab308; /* 更深的芝士黄边框 */
    border-width: 1.5px; /* 与 result-chip--active 一致 */
  }

  .selected-chip--characters:hover {
    background-color: #FDE047; /* 保持选中颜色 */
    border-color: #eab308;
    border-width: 1.5px; /* 保持边框宽度 */
  }

  /* 4. Times (薄荷绿) - 选中状态 */
  .selected-chip--times {
    background-color: #BBF7D0; /* 薄荷绿 selected */
    border-color: #10b981; /* 更深的薄荷绿边框 */
    border-width: 1.5px; /* 与 result-chip--active 一致 */
  }

  .selected-chip--times:hover {
    background-color: #BBF7D0; /* 保持选中颜色 */
    border-color: #10b981;
    border-width: 1.5px; /* 保持边框宽度 */
  }

  /* 5. Themes (天空蓝) - 选中状态 */
  .selected-chip--themes {
    background-color: #BAE6FD; /* 天空蓝 selected */
    border-color: #0ea5e9; /* 更深的天空蓝边框 */
    border-width: 1.5px; /* 与 result-chip--active 一致 */
  }

  .selected-chip--themes:hover {
    background-color: #BAE6FD; /* 保持选中颜色 */
    border-color: #0ea5e9;
    border-width: 1.5px; /* 保持边框宽度 */
  }

  /* 6. Devices (冰川青) - 选中状态 */
  .selected-chip--devices {
    background-color: #A5F3FC; /* 冰川青 selected */
    border-color: #06b6d4; /* 更深的冰川青边框 */
    border-width: 1.5px; /* 与 result-chip--active 一致 */
  }

  .selected-chip--devices:hover {
    background-color: #A5F3FC; /* 保持选中颜色 */
    border-color: #06b6d4;
    border-width: 1.5px; /* 保持边框宽度 */
  }

  .selected-empty {
    font-size: 0.875rem;
    color: var(--color-muted);
    padding: 4px 0;
  }

  /* 搜索结果统计（居中显示，带分割线） */
  .results-count {
    font-size: 0.875rem; /* text-sm */
    text-align: center;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    width: 100%;
    position: relative;
  }

  .results-count-line {
    flex: 1;
    height: 2px; /* 加粗分割线 */
    background-color: #d1d5db; /* 浅灰色分割线 */
    min-width: 0; /* 允许收缩 */
  }

  .results-count-text {
    white-space: nowrap;
    flex-shrink: 0; /* 文字不收缩 */
  }

  /* 分页器样式 */
  .pagination-top {
    margin-bottom: 16px;
  }

  .pagination-bottom {
    margin-top: 24px;
  }